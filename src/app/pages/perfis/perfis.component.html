<div class="container mt-4">
  <h2>Gerenciar Perfis</h2>

  <!-- Formulário -->
  <form (ngSubmit)="salvar()" class="mb-4">
    <div class="form-group">
      <label>Nome</label>
      <input [(ngModel)]="perfilForm.nome" name="nome" class="form-control" required />
    </div>

    <div class="form-group">
      <label>Descrição</label>
      <input [(ngModel)]="perfilForm.descricao" name="descricao" class="form-control" />
    </div>

    <div class="form-check">
      <input type="checkbox" [(ngModel)]="perfilForm.protegido" name="protegido" class="form-check-input" />
      <label class="form-check-label">Protegido</label>
    </div>

    <button type="submit" class="btn btn-success mt-2">
      {{ editando ? 'Atualizar' : 'Criar' }}
    </button>
    <button type="button" (click)="cancelar()" class="btn btn-secondary mt-2" *ngIf="editando">Cancelar</button>
  </form>

  <!-- Tabela -->
  <table class="table table-bordered">
    <thead class="thead-dark">
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Descrição</th>
        <th>Protegido</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let perfil of perfis">
        <td>{{ perfil.perfilId }}</td>
        <td>{{ perfil.nome }}</td>
        <td>{{ perfil.descricao }}</td>
        <td>{{ perfil.protegido ? 'Sim' : 'Não' }}</td>
        <td>
          <button class="btn btn-primary btn-sm" (click)="editar(perfil)">Editar</button>
          <button class="btn btn-danger btn-sm" (click)="deletar(perfil.perfilId)">Excluir</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
